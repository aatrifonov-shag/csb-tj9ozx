(this.webpackJsonp11=this.webpackJsonp11||[]).push([[0],{29:function(t,n,e){"use strict";e.r(n),n.default=e.p+"static/media/block-regular.571b4a9f.png"},30:function(t,n,e){"use strict";e.r(n),n.default=e.p+"static/media/block-red.3e7ab9d5.png"},31:function(t,n,e){"use strict";e.r(n),n.default=e.p+"static/media/block-blue.e87e1c27.png"},32:function(t,n,e){"use strict";e.r(n),n.default=e.p+"static/media/block-green.6ddc0d28.png"},35:function(t,n,e){"use strict";e.r(n),n.default=e.p+"static/media/box.4b9dffa4.jpg"},36:function(t,n,e){"use strict";e.r(n),n.default=e.p+"static/media/rotation-circle.0b5daaa5.svg"},38:function(t,n,e){"use strict";e.r(n),n.default=e.p+"static/media/box-rotate.cb7aca3a.mp3"},39:function(t,n,e){"use strict";e.r(n),n.default=e.p+"static/media/box-opened.be41e0c4.mp3"},41:function(t,n,e){"use strict";e.r(n);var o,r,i,a,c=e(0),u=e(8),s=e(24),l=e(6),d=e(4),f=e(5),b=e(3);!function(t){t.Regular="regular",t.Red="red",t.Blue="blue",t.Green="green"}(a||(a={}));var p,h=(o={},Object(b.a)(o,a.Regular,e(29)),Object(b.a)(o,a.Red,e(30)),Object(b.a)(o,a.Blue,e(31)),Object(b.a)(o,a.Green,e(32)),o);!function(t){t.Red="1",t.Blue="9",t.Green="7"}(p||(p={}));var m,j=(r={},Object(b.a)(r,p.Red,a.Red),Object(b.a)(r,p.Blue,a.Blue),Object(b.a)(r,p.Green,a.Green),r),O=[[11.88,22.93],[11.88,31.27],[11.88,39.61],[18.97,18.66],[18.97,27],[18.97,35.34],[18.97,43.68],[26.27,22.93],[26.27,31.17],[26.27,39.61],[33.36,27],[33.36,35.34]];!function(t){t.TopLeft="4",t.TopRight="5",t.Bottom="8"}(m||(m={}));var x,v,g,k,y,C,R,B,w,A,I=(i={},Object(b.a)(i,m.TopLeft,[0,1,5,8,7,3]),Object(b.a)(i,m.TopRight,[1,2,6,9,8,4]),Object(b.a)(i,m.Bottom,[4,5,9,11,10,7]),i),G=9.4,T=function(t){return{top:t[0]+"rem",left:t[1]+"rem"}},E=function(t){return{"border-radius":"50%",width:2*t+"rem",height:2*t+"rem"}},$=f.b.div(x||(x=Object(d.a)(["\n  background: url(",") no-repeat center / contain;\n  width: 69.7rem;\n  height: 49rem;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: auto;\n"])),e(35)),z=Object(f.a)(v||(v=Object(d.a)(["\n  transition: transform ","ms linear;\n  transform: rotate(","deg);\n  opacity: 1;\n"])),500,60),H=f.b.div(g||(g=Object(d.a)(["\n  position: absolute;\n  z-index: 1;\n  opacity: 0;\n  transform: rotate(0);\n  will-change: transform, opacity;\n  background: url(",") no-repeat\n    center / contain;\n  ","\n  left: -","rem;\n  top: -","rem;\n  pointer-events: none;\n  transition: opacity 0.2s linear;\n  ",";\n  display: ",";\n"])),e(36).default,E(13),G,G,(function(t){return t.$rotate&&z}),(function(t){return t.isCorrect?"none":"block"})),L=Object(f.a)(k||(k=Object(d.a)(['\n  &:before {\n    content: "";\n    display: block;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n    width: 50%;\n    height: 50%;\n    background: url(http://d1.endata.cx/data/games/72737/lvl_11_box_bg.jpg)\n      no-repeat center / contain;\n  }\n']))),P=Object(f.a)(y||(y=Object(d.a)(["\n  transition: ","ms linear;\n  transform: rotate(-","deg);\n"])),500,60),S=f.b.div(C||(C=Object(d.a)(["\n  background: url(",") no-repeat center /\n    contain;\n  position: absolute;\n  ","\n  will-change: transform;\n  z-index: ",";\n  display: ",";\n  user-select: ",";\n\n  ",";\n  ",";\n\n  &:hover {\n    "," {\n      opacity: 1;\n    }\n  }\n"])),(function(t){return h[t.type]}),E(3.6),(function(t){return t.withRotationCircle?1:0}),(function(t){return t.isHide?"none":"block"}),(function(t){return t.isCorrect?"none":"auto"}),(function(t){return t.isRotation&&L}),(function(t){return t.$rotate&&P}),H),_=f.b.div(R||(R=Object(d.a)(["\n  position: absolute;\n  width: 100%;\n  text-align: center;\n  top: 1rem;\n  font-size: 2rem;\n  background: black;\n  color: olivedrab;\n  font-family: monospace;\n  text-align: center;\n"]))),J=f.b.button(B||(B=Object(d.a)(["\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  font-size: 1rem;\n  user-select: none;\n  cursor: pointer;\n"]))),F=e(16),M=e(11),U=e(12),q=e(1),D=e(22),K=e(15),N=e.n(K),Q=e(23);!function(t){t[t.BoxRotate=0]="BoxRotate",t[t.BoxOpened=1]="BoxOpened"}(A||(A={}));var V=(w={},Object(b.a)(w,A.BoxRotate,{src:e(38)}),Object(b.a)(w,A.BoxOpened,{src:e(39)}),w),W=function(){function t(){var n=this;Object(M.a)(this,t),this.audios={},this.play=function(t){t in n.audios||n.addAudio(t);var e=n.audios[t];return e?(e.play(),e):null}}return Object(U.a)(t,[{key:"addAudio",value:function(t,n){t in this.audios||(this.audios[t]=new Q.Howl(n||V[t]))}},{key:"preload",value:function(){var t=Object(D.a)(N.a.mark((function t(n){var e,o=this;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(t){return new Promise((function(n){var e,r,i;o.addAudio(t);var a=function(){return n()};null===(e=o.audios[t])||void 0===e||e.on("load",a),null===(r=o.audios[t])||void 0===r||r.on("loaderror",a),null===(i=o.audios[t])||void 0===i||i.load()}))},t.abrupt("return",Promise.all(n.map(e)));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}]),t}(),X=function(){function t(){Object(M.a)(this,t),this.blocks=[],this.isAnimation=!1,this.rotationIndex=null,this.audioController=new W,Object(q.m)(this,{blocks:q.n,isAnimation:q.n,rotationIndex:q.n,rotate:q.f.bound,shuffle:q.f.bound,setAnimation:q.f.bound}),this.shuffle()}return Object(U.a)(t,[{key:"shuffle",value:function(){this.blocks=[].concat(Object(F.a)(new Array(9).fill(a.Regular)),[a.Red,a.Blue,a.Green]).sort((function(){return Math.random()-.5})),this.isReshuffle&&this.shuffle()}},{key:"isReshuffle",get:function(){return this.isOneCorrect||this.isCorrectAtRotateBlock}},{key:"isOneCorrect",get:function(){var t=this;return Object.keys(j).some((function(n){return t.isCorrectIndex(n)}))}},{key:"isCorrectIndex",value:function(t){return j[t]===this.blocks[t]}},{key:"isCorrectAtRotateBlock",get:function(){var t=this,n=[m.TopLeft,m.TopRight,m.Bottom],e=[a.Red,a.Blue,a.Green];return n.some((function(n){return e.some((function(e){return t.blocks[n]===e}))}))}},{key:"isCorrect",get:function(){var t=this;return Object.keys(j).every((function(n){return t.isCorrectIndex(n)}))}},{key:"rotate",value:function(t){var n=this;if(I[t]&&!this.isCorrect){var e=Object(F.a)(this.blocks),o=I[t];o.forEach((function(t,r){o.length-1===r?n.blocks[o[0]]=e[o[o.length-1]]:n.blocks[o[r+1]]=e[t]}))}}},{key:"setAnimation",value:function(t,n){this.isAnimation=t,this.rotationIndex=n||null}}]),t}(),Y=Object(c.createContext)(null),Z=function(t){var n=Object(c.useContext)(t);if(!n)throw new Error("Using store outside of context");return n},tt=e(2),nt=Object(l.a)((function(t){var n=t.position,e=t.type,o=t.index,r=Z(Y),i=function(t){return[t[0]-n[0]+G,t[1]-n[1]+G]};return Object(tt.jsxs)(H,{$rotate:r.isAnimation&&r.rotationIndex===o,isCorrect:r.isCorrect,children:[Object.keys(I[o]).map((function(t,n){var e=I[o][t],a=i(O[e]);return Object(tt.jsx)(S,{type:r.blocks[e],$rotate:r.isAnimation&&r.rotationIndex===o,style:T(a)},n)})),Object(tt.jsx)(S,{type:e,isRotation:!0,$rotate:(null===r||void 0===r?void 0:r.isAnimation)&&(null===r||void 0===r?void 0:r.rotationIndex)===o,style:T(i(n))})]})})),et=Object(l.a)((function(t){var n=t.position,e=t.type,o=t.index,r=Z(Y),i=I[o],a=i&&(!r.rotationIndex||r.rotationIndex===o),c=function(){r.rotate(o),r.setAnimation(!1)};return Object(tt.jsx)(S,{type:e,onClick:i&&!r.isCorrect?function(){r.isAnimation||(r.setAnimation(!0,o),r.audioController.play(A.BoxRotate),setTimeout(c,500))}:void 0,isHide:function(){if(!r.rotationIndex)return!1;var t=I[r.rotationIndex];return Object.keys(t).some((function(n){return t[n]===o}))}(),isCorrect:r.isCorrect,withRotationCircle:a,style:T(n),children:a&&Object(tt.jsx)(nt,{position:n,type:e,index:o})})})),ot=Object(l.a)((function(t){t.onSuccess;var n=c.useState((function(){return new X})),e=Object(s.a)(n,1)[0];return c.useEffect((function(){e.audioController.preload([A.BoxOpened,A.BoxRotate])}),[]),c.useEffect((function(){e.isCorrect&&e.audioController.play(A.BoxOpened)}),[e.isCorrect]),Object(tt.jsx)(Y.Provider,{value:e,children:Object(tt.jsxs)($,{children:[O.map((function(t,n){return Object(tt.jsx)(et,{position:t,index:n,type:e.blocks[n]},n)})),e.isCorrect?Object(tt.jsx)(_,{children:"Congrats! Final code is \xab11\xbb"}):Object(tt.jsx)(J,{onClick:e.shuffle,children:"Shuffle"})]})})})),rt=document.getElementById("root");Object(u.render)(Object(tt.jsx)(ot,{}),rt)}},[[41,1,2]]]);
//# sourceMappingURL=main.5de1a449.chunk.js.map